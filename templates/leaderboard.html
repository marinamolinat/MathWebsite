{% extends "base.html" %}
{% block title %} Leaderboard {% endblock %}
{% block styles %}
    <style>
        #leaderboard li {
            background-color: #79bd95;
            padding: 10px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
          
            width: 100%;

        }

        img {
            border-radius: 10px;
            height: 70px;
        }

        #leaderboard ul {
            overflow-y: scroll;
            height: 70vh;
            padding: 10px;
            background-color: rgba(126, 216, 174, 0.5);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            

        }
        select {
              opacity: 0.6;
          

        }

        

     
        
    </style>
{% endblock %}




{% block content %}
    <div id="welcome"> 
        <h1> LEADERBOARD </h1>
    </div>
  

    <div id="leaderboard">

       

        <ul> 
                <select class="form-select" name="grade" id="selectGrade" required>
           <option value="all" selected>All grades</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
        </select>

        {% for s in students %}

        <li>
            <div style="display: flex; gap: 20px; align-items: center; justify-content: center;"> 

                <img src="{{s['profilePicURL']}}">
            
                <h5> {{ s['firstName']}} {{ s['firstLastName']}}  // House: {{ s['house'] }}</h5>
              

               

            </div>

            <div>

                
               

                {{ s['totalScore'] }} 
            </div>
            

        </li>

        
        {% endfor %}

        </ul>

        





    </div>


    <script> 
        selectGrade = document.getElementById("selectGrade")
        selectGrade.addEventListener("change", function() {
            window.location.href = `/leaderboard?grade=${encodeURIComponent(this.value)}`;
    

     

            
         })

    



    </script>
{% endblock %}


 