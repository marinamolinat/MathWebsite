{% extends "base.html" %}
{% block styles %}
    <style>

        #top {
            display: flex;
            justify-content: space-between;
         
        }

        #profilePic {
            width: 100px; 
            height: 100x; 
            border-radius: 20%;
   
            margin-right: 25px;
            margin-top: 5px

        }

        .containerProblems {
            color: #266943;
            background-color: #79bd95;
            width: 80%;
            border-radius: 10px;
            padding: 10px;
            height: 400px;
        }

        .capsuleProblems {
            overflow-y: scroll;
            height: 70%;
            padding: 0;
            background-color: rgba(126, 216, 174, 0.5);
            border-radius: 10px;

        }



        .listProblems li {
            width: 100%;
            border-radius: 10px;
            padding: 10px; 
            background-color: #ffff9c43;;
            color: #266943;
            
            
            
        }
        .listProblems{
        
           display: flex;
           flex-direction: column;
           gap: 10px;
            padding-left: 0;

        
        }
        .modal-content {
            background-color: #266943;
     
        
        }
        
       
       

        textarea {
            width: 100%;
            height: 200px;
        }


        #addAdmin {
            background-color:  rgba(126, 216, 174, 0.5);
            border-radius: 10px;
            padding: 10px;
            width:  80%;
        }

        
       


    
        
    </style>
{% endblock %}




{% block content %}
    <div id="top"> 
        <div> 
             <h1> Hello {{name}} </h1>
             <h5> You are an admin! </h5>
        </div>
       
    
         <img  src="{{ profilePic }}" alt="Profile Picture" id="profilePic">
    </div>

    <div style="display: flex; flex-direction: column; align-items: center; margin: 50px; gap: 20px;">
        <div class="containerProblems"> 
        <div>  
            <h2> Manage Problems </h2>
            <button id="addProblem" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modal">  
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-folder-plus" viewBox="0 0 16 16">
                <path d="m.5 3 .04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2m5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98z"/>
                <path d="M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5"/>
                </svg>
                Add Problem
            </button>
         </div>
 
        <p>Create and delete problems. This list showcases all problems that have been created.</p>

         <div class="capsuleProblems"> 
           
            <ul class="listProblems">
              {% for prob in problems%}
                    <li><a href="/problems/{{prob['id']}}" style="display: flex; justify-content: space-between;"> 

                        <p> {{ prob['title']}} </p>

                        <p>Answers: {{ prob['numAnswers']}} </p>



                    </a></li>
                {% endfor %}
            </ul>

    
         </div>
                

     
        </div>


           
           
    

    </div>
 
 



<!-- popup  -->
<div class="modal fade" id="modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add problem</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <form method="post"  enctype="multipart/form-data">


            <label for="title">Title</label>
            <input required type="text" id="title" name="title">

            <label for="textarea">Problem's Text</label>
            <textarea id="textarea" required name="textbody"></textarea>
            
            <label for="fileInput">Submit an image (optional)</label>
            <input type="file" id="fileInput" name="image" style="width: 70%;"> 
    

            <label for="grades">Enter the grade(s) this problem will be showed to</label>
            <div id="gradesContainer">
            
                {% for i in range(5, 12) %}
                    <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="check{{ i }}" name="grades" value="{{ i }}">
                    <label class="form-check-label" for="check{{ i }}">
                        {{ i }}
                    </label>
                    </div>
                {% endfor %}
            </div>

           
          
            <label for="answer">Correct Answer, this is for autograding</label>
            <input id="answer" type="text" name="answer">

            <label for="maxPoints">If a student gets this answer correct, how many points should be given.</label>
            <input id="maxPoints" type="number" name="pointsIfCorrect">
            
            



            <label for="deadline">Select a deadline</label>
            <input required id="deadline" type="datetime-local" name="deadline">

     








        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" name="formType" value="addProblem">Save changes</button>
        </div>


    </form>
    </div>
  </div>
</div>


{% endblock %}


 